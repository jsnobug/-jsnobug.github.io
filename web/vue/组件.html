<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>组件 | Tenet Blog</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="Just learn javascript">
    <link rel="preload" href="/assets/css/0.styles.2b949031.css" as="style"><link rel="preload" href="/assets/js/app.57dbb3c4.js" as="script"><link rel="preload" href="/assets/js/2.cec2c587.js" as="script"><link rel="preload" href="/assets/js/31.cc607496.js" as="script"><link rel="prefetch" href="/assets/js/10.228ae5eb.js"><link rel="prefetch" href="/assets/js/11.924dcd67.js"><link rel="prefetch" href="/assets/js/12.6fbe1cfc.js"><link rel="prefetch" href="/assets/js/13.8aa60a30.js"><link rel="prefetch" href="/assets/js/14.16f10524.js"><link rel="prefetch" href="/assets/js/15.2d6fe028.js"><link rel="prefetch" href="/assets/js/16.a880b332.js"><link rel="prefetch" href="/assets/js/17.b53020f4.js"><link rel="prefetch" href="/assets/js/18.15481006.js"><link rel="prefetch" href="/assets/js/19.95e4dfd3.js"><link rel="prefetch" href="/assets/js/20.b75d61e5.js"><link rel="prefetch" href="/assets/js/21.8949d5a8.js"><link rel="prefetch" href="/assets/js/22.9d8eb14a.js"><link rel="prefetch" href="/assets/js/23.1128ebd9.js"><link rel="prefetch" href="/assets/js/24.ac5d6bc2.js"><link rel="prefetch" href="/assets/js/25.fbb1cf54.js"><link rel="prefetch" href="/assets/js/26.870c2cbb.js"><link rel="prefetch" href="/assets/js/27.f799eb3f.js"><link rel="prefetch" href="/assets/js/28.7e3b9b89.js"><link rel="prefetch" href="/assets/js/29.e48fd037.js"><link rel="prefetch" href="/assets/js/3.b09e72a3.js"><link rel="prefetch" href="/assets/js/30.848fec64.js"><link rel="prefetch" href="/assets/js/32.45085c22.js"><link rel="prefetch" href="/assets/js/33.14637d52.js"><link rel="prefetch" href="/assets/js/34.53e8da82.js"><link rel="prefetch" href="/assets/js/35.67c190cd.js"><link rel="prefetch" href="/assets/js/4.20d724d6.js"><link rel="prefetch" href="/assets/js/5.ff153f72.js"><link rel="prefetch" href="/assets/js/6.509735ba.js"><link rel="prefetch" href="/assets/js/7.d4f3f4ce.js"><link rel="prefetch" href="/assets/js/8.90df6e0d.js"><link rel="prefetch" href="/assets/js/9.04d4d778.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2b949031.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Tenet Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/web/" class="nav-link router-link-active">
  前端
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="联系我" class="dropdown-title"><span class="title">联系我</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/jsnobug" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/xiao_zheng_123" target="_blank" rel="noopener noreferrer" class="nav-link external">
  gitee
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/web/" class="nav-link router-link-active">
  前端
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="联系我" class="dropdown-title"><span class="title">联系我</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/jsnobug" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/xiao_zheng_123" target="_blank" rel="noopener noreferrer" class="nav-link external">
  gitee
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>无用大棒</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>htmlAndCss</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>javascript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>vue</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/web/vue/" aria-current="page" class="sidebar-link">目录</a></li><li><a href="/web/vue/技巧.html" class="sidebar-link">vue技巧</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web/vue/技巧.html#⭐⭐⭐vue通讯方式" class="sidebar-link">⭐⭐⭐vue通讯方式</a></li><li class="sidebar-sub-header"><a href="/web/vue/技巧.html#scope-样式穿透" class="sidebar-link">scope——样式穿透</a></li><li class="sidebar-sub-header"><a href="/web/vue/技巧.html#动态组件-页面灵活渲染" class="sidebar-link">动态组件——页面灵活渲染</a></li><li class="sidebar-sub-header"><a href="/web/vue/技巧.html#⭐⭐⭐minxins-组件内容的复用" class="sidebar-link">⭐⭐⭐minxins——组件内容的复用</a></li><li class="sidebar-sub-header"><a href="/web/vue/技巧.html#⭐⭐⭐vue-use" class="sidebar-link">⭐⭐⭐Vue.use</a></li><li class="sidebar-sub-header"><a href="/web/vue/技巧.html#vue-prototype-xx" class="sidebar-link">Vue.prototype.$xx</a></li><li class="sidebar-sub-header"><a href="/web/vue/技巧.html#vue组件使用方式" class="sidebar-link">vue组件使用方式</a></li><li class="sidebar-sub-header"><a href="/web/vue/技巧.html#二次封装组件" class="sidebar-link">二次封装组件</a></li><li class="sidebar-sub-header"><a href="/web/vue/技巧.html#require-context-前端工程自动化" class="sidebar-link">require.context——前端工程自动化</a></li><li class="sidebar-sub-header"><a href="/web/vue/技巧.html#插槽" class="sidebar-link">插槽</a></li><li class="sidebar-sub-header"><a href="/web/vue/技巧.html#watch-侦听器" class="sidebar-link">Watch——侦听器</a></li><li class="sidebar-sub-header"><a href="/web/vue/技巧.html#functional-函数式组件" class="sidebar-link">functional——函数式组件</a></li><li class="sidebar-sub-header"><a href="/web/vue/技巧.html#computed-计算属性" class="sidebar-link">computed——计算属性</a></li><li class="sidebar-sub-header"><a href="/web/vue/技巧.html#filter-过滤器" class="sidebar-link">filter—— 过滤器</a></li><li class="sidebar-sub-header"><a href="/web/vue/技巧.html#v-自定义指令" class="sidebar-link">v- ——自定义指令</a></li><li class="sidebar-sub-header"><a href="/web/vue/技巧.html#vue-observable-实现状态管理" class="sidebar-link">Vue.observable——实现状态管理</a></li><li class="sidebar-sub-header"><a href="/web/vue/技巧.html#hookevent-监听组件生命周期" class="sidebar-link">hookEvent——监听组件生命周期</a></li><li class="sidebar-sub-header"><a href="/web/vue/技巧.html#resize-监听事件" class="sidebar-link">resize——监听事件</a></li><li class="sidebar-sub-header"><a href="/web/vue/技巧.html#settime-定时器使用" class="sidebar-link">setTime——定时器使用</a></li><li class="sidebar-sub-header"><a href="/web/vue/技巧.html#this-set-obj-key-value-响应式" class="sidebar-link">this.$set(obj,key,value)——响应式</a></li><li class="sidebar-sub-header"><a href="/web/vue/技巧.html#策略模式" class="sidebar-link">策略模式</a></li><li class="sidebar-sub-header"><a href="/web/vue/技巧.html#职责单一" class="sidebar-link">职责单一</a></li><li class="sidebar-sub-header"><a href="/web/vue/技巧.html#冻结渲染无关的数据" class="sidebar-link">冻结渲染无关的数据</a></li></ul></li><li><a href="/web/vue/组件.html" class="active sidebar-link">组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web/vue/组件.html#组件的分类" class="sidebar-link">组件的分类</a></li><li class="sidebar-sub-header"><a href="/web/vue/组件.html#组件的三个-api：prop、event、slot" class="sidebar-link">组件的三个 API：prop、event、slot</a></li><li class="sidebar-sub-header"><a href="/web/vue/组件.html#组件传值" class="sidebar-link">组件传值</a></li></ul></li><li><a href="/web/vue/风格.html" class="sidebar-link">风格指南</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web/vue/风格.html#避免v-for与v-if混用" class="sidebar-link">避免v-for与v-if混用</a></li><li class="sidebar-sub-header"><a href="/web/vue/风格.html#v-if-为同一类型组件-或同一模板的dom树-来做显示和隐藏，最好在最外层添加key属性来设定唯一标识" class="sidebar-link">v-if 为同一类型组件(或同一模板的dom树)来做显示和隐藏，最好在最外层添加key属性来设定唯一标识</a></li><li class="sidebar-sub-header"><a href="/web/vue/风格.html#尽量使用私有属性-方法" class="sidebar-link">尽量使用私有属性/方法</a></li><li class="sidebar-sub-header"><a href="/web/vue/风格.html#将复杂页面拆分成多个多个组件文件" class="sidebar-link">将复杂页面拆分成多个多个组件文件</a></li><li class="sidebar-sub-header"><a href="/web/vue/风格.html#prop应该尽量详细" class="sidebar-link">prop应该尽量详细</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTTP</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>mockjs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>code-review</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="组件"><a href="#组件" class="header-anchor">#</a> 组件</h1> <h2 id="组件的分类"><a href="#组件的分类" class="header-anchor">#</a> 组件的分类</h2> <p>一般来说，Vue.js 组件主要分成三类：</p> <ol><li><p>由 <code>vue-router</code> 产生的每个页面，它本质上也是一个组件（.vue），主要承载当前页面的 HTML 结构，会包含数据获取、数据整理、数据可视化等常规业务。整个文件相对较大，但一般不会有 <code>props</code> 选项和 <code>自定义事件</code>，因为它作为路由的渲染，不会被复用，因此也不会对外提供接口。</p> <p>在项目开发中，我们写的大部分代码都是这类的组件（页面），协同开发时，每人维护自己的页面，很少有交集。这类组件相对是最好写的，因为主要是还原设计稿，完成需求，不需要太多模块和架构设计上的考虑。</p></li> <li><p>不包含业务，独立、具体功能的基础组件，比如<strong>日期选择器</strong>、<strong>模态框</strong>等。这类组件作为项目的基础控件，会被大量使用，因此组件的 API 进行过高强度的抽象，可以通过不同配置实现不同的功能。比如笔者开源的 iView，就是包含了 50 多个这样基础组件的 UI 组件库。</p> <p>每个公司都有自己的组件使用规范或组件库，但要开发和维护一套像 iView 这样的组件库，投入的人力和精力还是很重的，所以出于成本考虑，很多项目都会使用已有的开源组件库。</p> <p>独立组件的开发难度要高于第一类组件，因为它的侧重点是 API 的设计、兼容性、性能、以及复杂的功能。这类组件对 JavaScript 的编程能力有一定要求，也会包含非常多的技巧，比如在不依赖 Vuex 和 Bus（因为独立组件，无法依赖其它库）的情况下，各组件间的通信，还会涉及很多脑壳疼的逻辑，比如日期选择器要考虑不同时区、国家的日历习惯，支持多种日期格式。</p></li> <li><p>业务组件。它不像第二类独立组件只包含某个功能，而是在业务中被多个页面复用的，它与独立组件的区别是，业务组件只在当前项目中会用到，不具有通用性，而且会包含一些业务，比如数据请求；而独立组件不含业务，在任何项目中都可以使用，功能单一，比如一个具有数据校验功能的输入框。</p> <p>业务组件更像是介于第一类和第二类之间，在开发上也与独立组件类似，但寄托于项目，你可以使用项目中的技术栈，比如 Vuex、axios、echarts 等，所以它的开发难度相对独立组件要容易点，但也有必要考虑组件的可维护性和复用性。</p></li></ol> <h2 id="组件的三个-api：prop、event、slot"><a href="#组件的三个-api：prop、event、slot" class="header-anchor">#</a> 组件的三个 API：prop、event、slot</h2> <h3 id="组件的构成"><a href="#组件的构成" class="header-anchor">#</a> 组件的构成</h3> <p>一个再复杂的组件，都是由三部分组成的：prop、event、slot，它们构成了 Vue.js 组件的 API。如果你开发的是一个通用组件，那一定要事先设计好这三部分。</p> <h4 id="属性-prop"><a href="#属性-prop" class="header-anchor">#</a> 属性 prop</h4> <p><code>prop</code> 定义了这个组件有哪些可配置的属性，组件的核心功能也都是它来确定的。写通用组件时，props 最好用<strong>对象</strong>的写法，这样可以针对每个属性设置类型、默认值或自定义校验属性的值</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>i-button-size' + size<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>disabled<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// 判断参数是否是其中之一</span>
  <span class="token keyword">function</span> <span class="token function">oneOf</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> validList</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> validList<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> validList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    props<span class="token operator">:</span> <span class="token punctuation">{</span>
      size<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">validator</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token function">oneOf</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'small'</span><span class="token punctuation">,</span> <span class="token string">'large'</span><span class="token punctuation">,</span> <span class="token string">'default'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">'default'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      disabled<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>使用组件：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i-button</span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>large<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i-button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i-button</span> <span class="token attr-name">disabled</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i-button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>组件里定义的 props，都是<strong>单向数据流</strong>，也就是只能通过父级修改，组件自己不能修改 props 的值，只能修改定义在 data 里的数据，非要修改，也是通过后面介绍的自定义事件通知父级，由父级来修改或者语法糖 .sync 修改。</p></div> <h4 id="插槽-slot"><a href="#插槽-slot" class="header-anchor">#</a> 插槽 slot</h4> <p>1.匿名插槽 default</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// 父组件
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>father</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>default</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>father</span><span class="token punctuation">&gt;</span></span>
简写： #default

// 子组件
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span>
		默认
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>2.具名插槽(可以布局)</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// 父组件
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>father</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>{dynamicSlotName}</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#contend</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>father</span><span class="token punctuation">&gt;</span></span>

data() {
   return {
    dynamicSlotName:&quot;head&quot;  // 可以动态命名
   }
 }

// 子组件
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>head<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
		默认
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>contend<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
		默认
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>3.作用域插槽（数据）</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// 父组件
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>father</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span><span class="token punctuation">&gt;</span></span>
		// slotProps可以自定义名字 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>{dynamicSlotName}</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>slotProps<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		// 解构 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>{dynamicSlotName}</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{user, test}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			{{slotProps.user.firstName}}
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#contend</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>father</span><span class="token punctuation">&gt;</span></span>

data() {
   return {
    dynamicSlotName:&quot;head&quot;  // 可以动态命名
   }
 }

// 子组件
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>head<span class="token punctuation">'</span></span> <span class="token attr-name">:user</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:test</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		默认
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">&gt;</span></span>
data() {
     return {
         user:{
             lastName:&quot;Zhang&quot;,
             firstName:&quot;yue&quot;
          },
          test:[1,2,3,4]
       }
    }
</code></pre></div><h1 id="api"><a href="#api" class="header-anchor">#</a> API</h1> <h2 id="组件传值"><a href="#组件传值" class="header-anchor">#</a> 组件传值</h2> <h3 id="跨组件-eventbus"><a href="#跨组件-eventbus" class="header-anchor">#</a> 跨组件-eventbus</h3> <p>在utils里面新建eventBus.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
</code></pre></div><p>被传递的组件（监听当前实例上的自定义事件）</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">mounted</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    eventBus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'updateInfo'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    	<span class="token operator">...</span><span class="token punctuation">.</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getUpdateInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 可以调用组件内方法，可以拿到传递来的值做事情等等</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>要传递值的组件（自定义事件触发）</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 在触发方法里面写入</span>

eventBus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'updateInfo'</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token comment">// val可以是任何类型</span>
</code></pre></div><p>$on $emit，第一个参数是自定义方法名，第二个是方法和传递的值</p> <h3 id="跨组件-observable（小型场景）"><a href="#跨组件-observable（小型场景）" class="header-anchor">#</a> 跨组件-observable（小型场景）</h3> <p>Vue.observable(object) 让一个对象可响应，返回的对象可以直接用于渲染函数和计算属性内。也可以作为最小化的跨组件状态存储器。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/11/2020, 5:33:43 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/web/vue/技巧.html" class="prev">
        vue技巧
      </a></span> <span class="next"><a href="/web/vue/风格.html">
        风格指南
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.57dbb3c4.js" defer></script><script src="/assets/js/2.cec2c587.js" defer></script><script src="/assets/js/31.cc607496.js" defer></script>
  </body>
</html>
